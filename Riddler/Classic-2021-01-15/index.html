<!DOCTYPE html>
<html>
  <head>
    <a href="https://prof-sears.github.io">Return Home</a>
    <title>Number Hunter</title>
    <link rel="stylesheet" type="text/css" href="riddler.css"/>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script type="text/javascript" src="bookswap.js"></script>
  </head>
  <body>
    <h1>Number Hunter</h1>
    <p>This is a solution to the <a href="https://fivethirtyeight.com/features/can-you-hunt-for-the-mysterious-numbers/">Riddler Classic for January 15, 2021</a>.
    <p> To solve the problem, I first factored each of the numbers at the end of the rows to find the possible triples of digits for each row.</p>
    <div style="text-align: center">
    <table style="margin: auto">
      <tr><th>Number</th> <th>Factorization</th><th>Possible Digits</th></tr>
      <tr><td>294</td>    <td>\(2 \cdot 3 \cdot 7^2\)</td><td>6, 7, 7</td></tr>
      <tr><td>216</td>    <td>\(2^3 \cdot 3^3\)</td><td>6, 6, 6; or 3, 8, 9; or 4, 6, 9</td></tr>
      <tr><td>135</td>    <td>\(3^3 \cdot 5\)</td><td>3, 5, 9</td></tr>
      <tr><td>98</td>     <td>\(2 \cdot 7^2\)</td><td>2, 7, 7</td></tr>
      <tr><td>112</td>    <td>\(2^4 \cdot 7\)</td><td>4, 4, 7; or 2, 7, 8</td></tr>
      <tr><td>84</td>     <td>\(2^2 \cdot 3 \cdot 7\)</td><td>2, 6, 7; or 3, 4, 7</td></tr>
      <tr><td>245</td>    <td>\(5 \cdot 7^2\)</td><td>5, 7, 7</td></tr>
      <tr><td>40</td>     <td>\(2^3 \cdot 5\)</td><td>2, 4, 5; or 1, 5, 8</td></tr>
    </table>
    </div>
    <p>Sorting through all possible permutations of the digits above left 2,729,376 possible arrangements to check.
    It was possible to eliminate all of the permutations with 5 in the right position, as the right column had no factors of 5 in the product at the bottom. That still left 808,704 possible arrangments.</p>
    <p>I wrote a JavaScript program to sort through all of the arrangements above. This felt a little like cheating.
    The program used eight layers of nested loops to cycle through the arrangements.
    I wrote a recursive version, but that ran slower than the loops.</p>
    <p>One approach I considered was to sprinkle the prime factors of the numbers at the right or each row in the three boxes.
    Then, you can use the prime factorization of the numbers at the bottom of each column as a constraint.
    This approach may be closer to the intent of the puzzle creator.
    It also would lend itself nicely to a solution via a pre-packaged optimization library.
    This is strategy I would use if I were to write a program to solve any of these puzzles.</p>
    <div style="text-align: center">
      <iframe width="400" height="400" src="https://editor.p5js.org/Prof-Sears/embed/ni1i3lm_5"></iframe>
    </div>
    <p>Full source code at <a href="https://editor.p5js.org/Prof-Sears/sketches/ni1i3lm_5">p5.js</a>.</p>
  </body>
</html>
